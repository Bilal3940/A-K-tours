{"ast":null,"code":"import _regeneratorRuntime from\"E:/Web Data/react js/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Web Data/react js/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/Web Data/react js/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';// import { BrowserRouter, Route, Switch } from 'react-router-dom';\n// import { Switch } from 'react-switch'\nimport Loading from'./Loading';import Tours from'./Tours';// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url='https://course-api.com/react-tours-project';function Home(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tours=_useState4[0],setTours=_useState4[1];var removeTour=function removeTour(id){var newTours=tours.filter(function(tour){return tour.id!==id;});setTours(newTours);};var fetchTours=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_tours;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:_tours=_context.sent;console.log(_tours);setLoading(false);setTours(_tours);_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);setLoading(false);alert(\"Error Occured\");case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return function fetchTours(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTours();},[]);if(loading){return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Loading,{})});}if(tours.length===0){return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"No Tours left\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:fetchTours,children:\"Refresh\"})]})});}return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Tours,{tours:tours,removeTour:removeTour})});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Loading","Tours","url","Home","loading","setLoading","tours","setTours","removeTour","id","newTours","filter","tour","fetchTours","fetch","response","json","console","log","alert","length"],"sources":["E:/Web Data/react js/my-app/src/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n// import { Switch } from 'react-switch'\r\nimport Loading from './Loading'\r\nimport Tours from './Tours'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-tours-project'\r\nfunction Home() {\r\n  const [ loading, setLoading] = useState(true);\r\n  const [ tours, setTours] = useState([]);\r\n  const removeTour =(id)=>{\r\n    const newTours = tours.filter((tour)=>tour.id!== id);\r\n    setTours(newTours);\r\n  } \r\n  const fetchTours= async()=>{\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(url);\r\n      const tours = await response.json();\r\n      console.log(tours);\r\n      setLoading(false);\r\n      setTours(tours);\r\n    } catch (error) {\r\n      setLoading(false);\r\n      alert(\"Error Occured\");\r\n    }\r\n  }\r\n    useEffect(()=>{\r\n      fetchTours();\r\n    },[]); \r\n\r\n  if(loading){\r\n  return <main>\r\n    <Loading/>\r\n  </main>\r\n  }\r\n  if(tours.length===0){\r\n    return(\r\n      <main>\r\n    <div className='title'>\r\n        <h2>No Tours left</h2>\r\n        <button className='btn' onClick={fetchTours}>Refresh</button>\r\n    </div>\r\n    </main>\r\n    )\r\n  }\r\n  return (\r\n    <main>\r\n        <Tours tours ={tours} removeTour ={removeTour}/>\r\n    </main>\r\n       \r\n  )\r\n}\r\nexport default Home;"],"mappings":"mWAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA;AACA;AACA,MAAOC,QAAP,KAAoB,WAApB,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA;AACA;wFACA,GAAMC,IAAG,CAAG,4CAAZ,CACA,QAASC,KAAT,EAAgB,CACd,cAA+BL,QAAQ,CAAC,IAAD,CAAvC,wCAAQM,OAAR,eAAiBC,UAAjB,eACA,eAA2BP,QAAQ,CAAC,EAAD,CAAnC,yCAAQQ,KAAR,eAAeC,QAAf,eACA,GAAMC,WAAU,CAAE,QAAZA,WAAY,CAACC,EAAD,CAAM,CACtB,GAAMC,SAAQ,CAAGJ,KAAK,CAACK,MAAN,CAAa,SAACC,IAAD,QAAQA,KAAI,CAACH,EAAL,GAAWA,EAAnB,EAAb,CAAjB,CACAF,QAAQ,CAACG,QAAD,CAAR,CACD,CAHD,CAIA,GAAMG,WAAU,4FAAE,yJAChBR,UAAU,CAAC,IAAD,CAAV,CADgB,sCAGSS,MAAK,CAACZ,GAAD,CAHd,QAGRa,QAHQ,qCAIMA,SAAQ,CAACC,IAAT,EAJN,QAIRV,MAJQ,eAKdW,OAAO,CAACC,GAAR,CAAYZ,MAAZ,EACAD,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAACD,MAAD,CAAR,CAPc,iFASdD,UAAU,CAAC,KAAD,CAAV,CACAc,KAAK,CAAC,eAAD,CAAL,CAVc,qEAAF,kBAAVN,WAAU,0CAAhB,CAaEd,SAAS,CAAC,UAAI,CACZc,UAAU,GACX,CAFQ,CAEP,EAFO,CAAT,CAIF,GAAGT,OAAH,CAAW,CACX,mBAAO,mCACL,KAAC,OAAD,IADK,EAAP,CAGC,CACD,GAAGE,KAAK,CAACc,MAAN,GAAe,CAAlB,CAAoB,CAClB,mBACE,mCACF,aAAK,SAAS,CAAC,OAAf,wBACI,qCADJ,cAEI,eAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEP,UAAjC,qBAFJ,GADE,EADF,CAQD,CACD,mBACE,mCACI,KAAC,KAAD,EAAO,KAAK,CAAGP,KAAf,CAAsB,UAAU,CAAGE,UAAnC,EADJ,EADF,CAMD,CACD,cAAeL,KAAf"},"metadata":{},"sourceType":"module"}